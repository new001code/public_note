# Python 基础

## 基础语法

### 编码

默认情况下，Python3的默认编码是UTF-8。一般来说默认即可。当然你也可以给你的文件指定不同的编码。

```python
# -*- coding: cp-1252 -*-
```

### 标识符

- 第一个字符必须是字母或下划线。
- 标识符的其他部分由字母、数字和下划线组成。
- 标识符大小写敏感。

### 保留字

保留字即关键字，不能作为标识符名称。可以使用 keyword 模块去查看当前版本所有的关键字。

```python
import keyword
keyword.kwlist
```

### 注释

Python 中单行注释使用 `#` 开头。多行注释可以使用 `'''` 和 `"""`。

### 行与缩进

python使用缩进来表示代码块，不需要使用大括号。缩进的空格数可变，但是同一个代码块的语句必须具有相同的缩进空格数。

### 多行语句

Python 通常是一行写完一条语句，但是如果语句很长，可以使用反斜杠 `\` 来实现多行语句，例如：

```python
total = item_one + \
        item_two + \
        item_three
```

在 [],{},() 中的多行语句不需要使用反斜杠。

### 数字(Number)类型

Python中有四种数字类型：整数、布尔值、单精度（浮点数）和双精度（复数）。

### 字符串

- Python 中单引号 `'` 和双引号 '"' 使用完全相同。
- 使用三引号 `'''` 或 `"""` 可以指定一个多行的字符串。
- 转义符 `\`.。
- 使用转义符可以用来转义，使用 `r` 可以让反斜杠不发生转义。
- 字符串可以使用运算符 `+` 连在一起，使用 `*` 重复字符串。
- Python 中有两种索引方式，从左往右以 `0` 开始，从右往左以 `-1` 开始。
- Python 中的字符串不能改变。
- Python 中没有单独的字符类型，一个字符就是长度为1的字符串。
- 字符串切片 `str[start:end:step]`，其中 start 是包含切片的开始索引，end 是不包含结束的切片结束索引，setp是步长。

### 空行

函数之间或类之间使用空行分隔，表示一段新的代码的开始。类和函数入口也用一行空行分隔，以突出函数入口的开始。
空行与代码缩进不同，空行并不是 Python 语法的一部分。书写时不插入空行，Python 解释运行也不会出错。但是空行的作用在于分隔两端不同功能或含义的代码，便于日后代码的维护或重构。

### 同一行显示多条语句

Python 可以在同一行中使用多条语句，语句之间使用分号 `;` 分隔。

### import 和 from ... import

在 Python 使用 `import` 或 `from ... import` 来导入相应的模块。
将整个模块导入，使用 `import somemodule`
从某个模块中导入某个函数，格式为：`from somemodule import somefunction`
从某个模块中导入多个函数，格式为：`from somemodule import firstfunc, secondfunc`
将某个模块中的全部函数导入，格式为: `form somemodule import *`

## 基本数据类型

Python 中的变量不需要声明。每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。使用 `=` 来给变量赋值。
Python 允许同时给多个变量赋值。例如：

```python
a = b = c = 1
a, b, c = 1, 2, "hello"
```

- **不可变数据(3个)** : Number、String、Tuple;
- **可变数据 (3 个)** : List、Dictionary、Set。
  此外还有一些高级的数据类型，如字节数组类型(bytes)。

### Number

Python3 支持 int、float、bool、complex。
在 Python3 中，只有一种整数类型 int，表示长整形，没有 Python2 中的 Long。
可以使用内置的函数 `type()` 来查询变量所指的对象类型。
也可以使用 isinstance 来判断，此二者的区别是：`type()`不会认为子类是一种父类类型而 `isinstance()`会认为子类是一种父类类型。

```python
a,b = 1, "hello"

type(a)
isinstance(b, String)
```

可以使用 `del` 来删除对象的引用，可以删除单个或多个对象。

### String

Python 中的字符串不能被改变。向一个索引位置赋值，比如 `word[0] = 'm'` 会导致错误。

1. 反斜杠可以用来转义，使用r可以让反斜杠不发生转义。
2. 字符串可以使用+运算符连接在一起，用*运算符重复，比如 `print(str * 2)` 就可以打印两次。
3. Python 中的字符串有两种索引方式，从左往右以0开始，从右往左以-1开始。
4. Python 中的字符串不能改变。

### bool

- 布尔只有两个值：True 和 False。
- 布尔类型可以和其他数据类型进行比较，比如数字、字符串等。在比较时，Python 会将 True 视为1、False 视为0。
- 布尔类型可以和逻辑运算符一起使用，包括 and、or 和 not。这些运算符可以用来组合多个布尔表达式，生成一个新的布尔值。
- 布尔类型也可以转换成其他的数据类型，必须整形、浮点数和字符串。转换时 True 会被转换为1， False会被转换为 0。
- 在 Python 中，所有非零的数字和非空的字符串、列表、元组等数据类型都被视为 True，只有0、空字符串、空列表、空元组等被视为False。因此，在进行布尔类型的转换时，需要注意数据类型的真假性。

### List

列表是写在 `[]` 之间的，使用逗号分隔开的元素列表。
列表可以被索引和截取，列表被截取后返回一个包含所需元素的新列表。
列表截取的语法：

```python
变量[头下标:尾下标:步长]
# 索引从0开始，-1为从末尾的开始位置。
```

### Tuple

元组与列表类似，不同的在于元组的元素不能修改。元组写在`()`内，元素之间用逗号隔开。

### Set

Python 中的集合是一种无序、可变的数据类型，用于存储唯一的元素。
集合使用`{}`表示，元素之间用`,`分隔。也可以使用`set()`函数创建。

> [!IMPORTANT]
> 创建一个空集合必须用`set()`而不是`{}`，因为`{}`是用来创建一个空字典。

### Dictionary

字典是一种映射类型，字典用`{}`标识，它是一个无序的**键(key):值(value)**的集合。
key必须使用不可变类型，同一个字典中，key必须是唯一的。
构造函数`dict()`可以直接从键值对序列中构建字典：

```python
dict([('runood', 1), ('google', 2), ('test', 3)])

```

### bytes

Python3中，bytes类型表示的是不可变的二进制序列。bytes类型中的元素是整数值（0~255），通常处理二级制数据，比如图像文件、音频文件等等。在网络编程中，也经常使用bytes类型来传输二进制数据。

创建bytes对象的方式由很多，最常见的方式是使用b前缀；

此外，也可以使用`bytes()`函数将其他类型对象转为bytes类型。第一个参数是要转换的对象，第二个是编码方式，如果省略第二个参数，则默认使用UTF-8编码。

```python
x = bytes("hello", encoding="utf-8")
x = b"hello"
y = x[1:3]
z = x + b"world"
```

## 数据类型转换

| 函数                   | 描述                                               |
| ---------------------- | -------------------------------------------------- |
| int(x\[,base\])        | x：字符串或数字，base：进制                        |
| float(x)               | 将x转为一个浮点数                                  |
| complex(real\[,imag\]) | 创建一个复数                                       |
| str(x)                 | 将x转为字符串                                      |
| repr(x)                | 将x转为表达式字符串                                |
| eval(x)                | 用来计算在字符串中有效Python表达式，并返回一个对象 |
| tuple(s)               | 将序列s转为一个元组                                |
| list(s)                | 将序列s转为一个列表                                |
| dict(d)                | 创建一个字典。d必须是一个key，value元组序列        |
| frozenset(s)           | 转换为不可变集合                                   |
| chr(x)                 | 将一个整数转换为一个字符                           |
| ord(x)                 | 将一个字符转为它的整数值                           |
| hex(x)                 | 将一个整数转为一个十六进制字符串                   |
| oct(x)                 | 将一个整数转换为一个八进制字符串                   |
